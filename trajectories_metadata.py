TRAJECTORIES_METADATA = {
    'tool_hang': {
        'val_mask': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        'ends': [681, 1294, 2031, 2613, 3165, 3846, 4433, 5055, 5569, 6192, 6689, 7167, 7663, 8177, 8885, 9395, 10071, 10748, 11380, 11949, 12514, 13089, 13800, 14542, 15079, 15559, 15988, 16457, 16969, 17501, 17910, 18386, 18859, 19257, 19831, 20420, 20952, 21519, 21990, 22475, 23124, 23662, 24242, 24737, 25260, 25887, 26337, 26876, 27384, 27939, 28448, 28950, 29527, 29984, 30473, 30994, 31463, 31939, 32372, 32776, 33253, 33794, 34284, 34779, 35287, 35686, 36147, 36621, 37040, 37582, 38003, 38565, 38981, 39413, 39883, 40290, 40729, 41158, 41610, 42024, 42561, 42924, 43346, 43786, 44216, 44704, 45183, 45626, 46059, 46503, 46913, 47359, 47728, 48106, 48505, 49001, 49524, 50132, 50526, 50951, 51496, 51910, 52500, 52911, 53313, 53693, 54116, 54491, 54967, 55462, 55839, 56244, 56730, 57170, 57629, 58099, 58571, 58905, 59309, 59844, 60233, 60608, 60978, 61393, 61805, 62219, 62590, 63011, 63578, 64032, 64510, 64846, 65277, 65775, 66107, 66522, 66902, 67308, 67888, 68332, 68904, 69265, 69711, 70152, 70561, 70945, 71300, 71633, 71972, 72446, 72808, 73506, 74250, 74729, 75126, 75598, 76280, 76717, 77143, 77608, 78056, 78481, 78968, 79437, 79970, 80500, 80901, 81344, 81781, 82134, 82658, 83199, 83753, 84194, 84646, 85171, 85566, 85999, 86383, 86837, 87309, 87735, 88321, 88768, 89167, 89536, 89987, 90407, 91116, 91635, 92056, 92471, 92887, 93385, 93749, 94107, 94530, 94997, 95489, 95962]
    }
}


def process_metadata(metadata):
    res = []

    for i in range(len(metadata['val_mask'])):
        if metadata['val_mask'][i] == 1:
            if i == 0:
                res.append(metadata['ends'][i])
            else:
                res.append(metadata['ends'][i] - metadata['ends'][i - 1])

    return res
    # return sum([[i] * (l - 8) for i, l in enumerate(res)])


def get_val_trajectories_metadata(metaname):
    for key, value in TRAJECTORIES_METADATA.items():
        if key in metaname:
            return process_metadata(value)

    assert False, f"Trajectories metadata not found for {metaname}"