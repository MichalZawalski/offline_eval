from collections import defaultdict

EVAL_RESULTS = [
    ('diffusion_blockpush',
        {'loss': {'correlation': -0.03552306409362905, 'negative MMRV': 0.19548703326544464, 'adv over final': -0.07457043650793646, 'smooth correlation': -0.12435825853271656, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.07256235714285714}, 'top_10%_losses': {'correlation': 0.3551654767001416, 'negative MMRV': 0.07957786829599453, 'adv over final': -0.00971551587301589, 'smooth correlation': 0.6938066129446105, 'smooth negative MMRV': 0.028271020408163268, 'smooth adv over final': 0.016881452380952344}, 'top_50%_losses': {'correlation': 0.3496211326699096, 'negative MMRV': 0.098079293957909, 'adv over final': -0.0025856746031746036, 'smooth correlation': 0.6824537173737277, 'smooth negative MMRV': 0.0447225850340136, 'smooth adv over final': 0.015888119047619054}, 'top_100_losses': {'correlation': 0.3466367816798112, 'negative MMRV': 0.07907277664630004, 'adv over final': 0.011906547619047636, 'smooth correlation': 0.6886051718543267, 'smooth negative MMRV': 0.026258367346938764, 'smooth adv over final': 0.022376150793650795}}
        | {'l1': {'correlation': 0.3728649663628342, 'negative MMRV': 0.1327355057705363, 'adv over final': -0.07457043650793646, 'smooth correlation': 0.51464486440019, 'smooth negative MMRV': 0.1139534693877551, 'smooth adv over final': -0.07256235714285714}, 'l2': {'correlation': 0.3289789764982, 'negative MMRV': 0.13335437881873724, 'adv over final': -0.07457043650793646, 'smooth correlation': 0.4507268043994845, 'smooth negative MMRV': 0.1181395918367347, 'smooth adv over final': -0.07256235714285714}, 'l2_sq': {'correlation': 0.003062753710753619, 'negative MMRV': 0.18887997284453492, 'adv over final': -0.09264710317460315, 'smooth correlation': -0.06693657644943722, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}, 'max': {'correlation': 0.35066775085625096, 'negative MMRV': 0.13250332654446706, 'adv over final': -0.07457043650793646, 'smooth correlation': 0.478872985374902, 'smooth negative MMRV': 0.11077115646258502, 'smooth adv over final': -0.07256235714285714}, 'geom': {'correlation': 0.7032428098179556, 'negative MMRV': 0.08037746096401897, 'adv over final': 0.019384484126984125, 'smooth correlation': 0.8539239523361958, 'smooth negative MMRV': 0.028723673469387753, 'smooth adv over final': 0.02452011904761897}, 'huber': {'correlation': 0.0032462936022387523, 'negative MMRV': 0.1887990495587237, 'adv over final': -0.09264710317460315, 'smooth correlation': -0.06663877603129899, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}, 'smooth_prob_pi': {'correlation': 0.41598444873434764, 'negative MMRV': 0.13132450780719618, 'adv over final': -0.07457043650793646, 'smooth correlation': 0.622484106594129, 'smooth negative MMRV': 0.09710408163265304, 'smooth adv over final': -0.07256235714285714}, 'smooth_prob_5': {'correlation': 0.47443980643098166, 'negative MMRV': 0.12045023761031906, 'adv over final': -0.06728615079365077, 'smooth correlation': 0.6633525154407746, 'smooth negative MMRV': 0.09509619047619046, 'smooth adv over final': -0.07256235714285714}, 'per_sample_loss': {'correlation': -0.43992942358609166, 'negative MMRV': 0.2609600814663951, 'adv over final': -0.18048265873015867, 'smooth correlation': -0.5371412792098083, 'smooth negative MMRV': 0.22349455782312921, 'smooth adv over final': -0.11703733333333333}}
        | {'closest min': {'correlation': -0.19720305580214947, 'negative MMRV': 0.19609395790902917, 'adv over final': -0.09264710317460315, 'smooth correlation': -0.3177191687448944, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}, 'closest mean': {'correlation': -0.04228253539064881, 'negative MMRV': 0.19532518669382212, 'adv over final': -0.09264710317460315, 'smooth correlation': -0.13303331750046274, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}, 'closest max': {'correlation': 0.07808746281683564, 'negative MMRV': 0.18816116768499658, 'adv over final': -0.09264710317460315, 'smooth correlation': 0.04886076936528553, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}}),
    ('diffusion_tool_hang',
        {'loss': {'correlation': 0.5390504946885555, 'negative MMRV': 0.27248568155784647, 'adv over final': 0.09602777777777771, 'smooth correlation': 0.8997062264127048, 'smooth negative MMRV': 0.12604597701149425, 'smooth adv over final': 0.11014365079365063}, 'top_10%_losses': {'correlation': 0.3724293743078478, 'negative MMRV': 0.16176403207331044, 'adv over final': 0.11548809523809522, 'smooth correlation': 0.8121086687843824, 'smooth negative MMRV': 0.10443678160919542, 'smooth adv over final': 0.09819126984126969}, 'top_50%_losses': {'correlation': 0.36958731241523113, 'negative MMRV': 0.16687285223367698, 'adv over final': 0.05951984126984122, 'smooth correlation': 0.8127694056390368, 'smooth negative MMRV': 0.0870804597701149, 'smooth adv over final': 0.0683785714285714}, 'top_100_losses': {'correlation': 0.37284400811412155, 'negative MMRV': 0.17532646048109965, 'adv over final': -0.006718253968253984, 'smooth correlation': 0.8098305518665705, 'smooth negative MMRV': 0.10901149425287358, 'smooth adv over final': 0.09819126984126969}}
        | {'l1': {'correlation': 0.5386750203268622, 'negative MMRV': 0.12412371134020621, 'adv over final': 0.09602777777777771, 'smooth correlation': 0.8903449824495918, 'smooth negative MMRV': 0.05002298850574715, 'smooth adv over final': 0.11430555555555544}, 'l2': {'correlation': 0.534352663849293, 'negative MMRV': 0.2141580756013746, 'adv over final': 0.06439285714285703, 'smooth correlation': 0.8943579055651301, 'smooth negative MMRV': 0.12308045977011496, 'smooth adv over final': 0.04801984126984116}, 'l2_sq': {'correlation': 0.5858481077569024, 'negative MMRV': 0.16213058419243986, 'adv over final': 0.09602777777777771, 'smooth correlation': 0.9066367927509026, 'smooth negative MMRV': 0.062390804597701174, 'smooth adv over final': 0.09819126984126969}, 'max': {'correlation': 0.46055147291689263, 'negative MMRV': 0.47202749140893474, 'adv over final': -0.006718253968253984, 'smooth correlation': 0.8200766463746355, 'smooth negative MMRV': 0.19682758620689653, 'smooth adv over final': -0.021705555555555645}, 'geom': {'correlation': 0.5764711587672297, 'negative MMRV': 0.17956471935853377, 'adv over final': 0.006091269841269842, 'smooth correlation': 0.7711801013844086, 'smooth negative MMRV': 0.11370114942528735, 'smooth adv over final': 0.01730238095238079}, 'huber': {'correlation': 0.5210858948185103, 'negative MMRV': 0.2552119129438717, 'adv over final': 0.06439285714285703, 'smooth correlation': 0.8915853273663806, 'smooth negative MMRV': 0.14774712643678156, 'smooth adv over final': 0.04801984126984116}, 'smooth_prob_pi': {'correlation': 0.6467091849118121, 'negative MMRV': 0.125475372279496, 'adv over final': 0.09664682539682534, 'smooth correlation': 0.8953361161865665, 'smooth negative MMRV': 0.04413793103448277, 'smooth adv over final': 0.04801984126984116}, 'smooth_prob_5': {'correlation': 0.6995497578447901, 'negative MMRV': 0.12437571592210768, 'adv over final': 0.09664682539682534, 'smooth correlation': 0.8901161608960718, 'smooth negative MMRV': 0.0443448275862069, 'smooth adv over final': 0.04801984126984116}, 'per_sample_loss': {'correlation': 0.05789323220500951, 'negative MMRV': 0.5659106529209621, 'adv over final': -0.3069880952380953, 'smooth correlation': 0.053038204566204526, 'smooth negative MMRV': 0.5067126436781609, 'smooth adv over final': -0.13823333333333343}}
        | {'closest min': {'correlation': 0.5236574625052711, 'negative MMRV': 0.28620847651775483, 'adv over final': 0.11594841269841272, 'smooth correlation': 0.8857022158615248, 'smooth negative MMRV': 0.13473563218390805, 'smooth adv over final': 0.11430555555555544}, 'closest mean': {'correlation': 0.5437841010468851, 'negative MMRV': 0.2835967926689576, 'adv over final': 0.12309126984126972, 'smooth correlation': 0.8886216997873635, 'smooth negative MMRV': 0.1453103448275862, 'smooth adv over final': 0.09819126984126969}, 'closest max': {'correlation': 0.5623148410530501, 'negative MMRV': 0.3156701030927834, 'adv over final': 0.06439285714285703, 'smooth correlation': 0.8837234498456171, 'smooth negative MMRV': 0.15956321839080456, 'smooth adv over final': 0.04801984126984116}}),
    ('diffusion_kitchen',
        {'loss': {'correlation': 0.9857969455305039, 'negative MMRV': 0.013040901007706003, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9909838514512028, 'smooth negative MMRV': 0.005253968253968243, 'smooth adv over final': -0.0015934240362811547}, 'top_10%_losses': {'correlation': 0.9841266882989809, 'negative MMRV': 0.011009681881051187, 'adv over final': -0.005116213151927451, 'smooth correlation': 0.9885911146013447, 'smooth negative MMRV': 0.0033531746031745732, 'smooth adv over final': -0.0008492063492062663}, 'top_50%_losses': {'correlation': 0.9788376414958824, 'negative MMRV': 0.011578739379569256, 'adv over final': -0.00786224489795928, 'smooth correlation': 0.9923387974157492, 'smooth negative MMRV': 0.00405158730158729, 'smooth adv over final': 2.3809523809537048e-05}, 'top_100_losses': {'correlation': 0.9835013280807883, 'negative MMRV': 0.010934597905552266, 'adv over final': -0.00269671201814059, 'smooth correlation': 0.9848710530419794, 'smooth negative MMRV': 0.0033968253968253634, 'smooth adv over final': 0.0}}
        | {'l1': {'correlation': 0.9881532467201893, 'negative MMRV': 0.011756569847856157, 'adv over final': -0.005116213151927451, 'smooth correlation': 0.9899225740115896, 'smooth negative MMRV': 0.004436507936507929, 'smooth adv over final': -0.0008492063492062663}, 'l2': {'correlation': 0.98701460021883, 'negative MMRV': 0.011495751827702032, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9890829706161539, 'smooth negative MMRV': 0.003952380952380918, 'smooth adv over final': -0.0008492063492062663}, 'l2_sq': {'correlation': 0.9897603379467317, 'negative MMRV': 0.012045050385299367, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9910580683632327, 'smooth negative MMRV': 0.005476190476190475, 'smooth adv over final': -0.0035689342403627533}, 'max': {'correlation': 0.9857351619512529, 'negative MMRV': 0.011456233945860499, 'adv over final': -0.005116213151927451, 'smooth correlation': 0.9870441411615607, 'smooth negative MMRV': 0.0037539682539682296, 'smooth adv over final': -0.0007444444444443254}, 'geom': {'correlation': 0.8422258558228233, 'negative MMRV': 0.010673779885398145, 'adv over final': -0.0033588435374150016, 'smooth correlation': 0.9220581834816161, 'smooth negative MMRV': 0.003353174603174571, 'smooth adv over final': 0.0}, 'huber': {'correlation': 0.9912665489150911, 'negative MMRV': 0.011638016202331557, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9916993844580806, 'smooth negative MMRV': 0.004547619047619032, 'smooth adv over final': -0.0008492063492062663}, 'smooth_prob_pi': {'correlation': 0.7928223643610668, 'negative MMRV': 0.011140090891128234, 'adv over final': -0.0030051020408163875, 'smooth correlation': 0.9066813323047657, 'smooth negative MMRV': 0.003551587301587271, 'smooth adv over final': 2.3809523809537048e-05}, 'smooth_prob_5': {'correlation': 0.6716995232014168, 'negative MMRV': 0.010819996048211817, 'adv over final': -0.0030051020408163875, 'smooth correlation': 0.8278762451970711, 'smooth negative MMRV': 0.003384920634920602, 'smooth adv over final': 2.3809523809537048e-05}, 'per_sample_loss': {'correlation': 0.1209682564929367, 'negative MMRV': 0.13435289468484474, 'adv over final': -0.024551587301587352, 'smooth correlation': -0.2977883980755686, 'smooth negative MMRV': 0.14539285714285705, 'smooth adv over final': -0.049695238095238015}}
        | {'closest min': {'correlation': 0.9892650999175299, 'negative MMRV': 0.011649871566884016, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.99203704304457, 'smooth negative MMRV': 0.004948412698412688, 'smooth adv over final': -0.0015934240362811547}, 'closest mean': {'correlation': 0.9897228542873224, 'negative MMRV': 0.011922544951590609, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9915846992995657, 'smooth negative MMRV': 0.005222222222222216, 'smooth adv over final': -0.0015934240362811547}, 'closest max': {'correlation': 0.9903349662821226, 'negative MMRV': 0.0120331950207469, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9910181021234088, 'smooth negative MMRV': 0.005230158730158731, 'smooth adv over final': -0.0008492063492062663}}),
    ('diffusion_pusht',
        {'loss': {'correlation': 0.7386109458897671, 'negative MMRV': 0.02725119001593361}, 'top_10%_losses': {'correlation': 0.7424581865983239, 'negative MMRV': 0.025134571573983466}, 'top_100_losses': {'correlation': 0.7406734040202352, 'negative MMRV': 0.1089832918234525}}
        | {'l1': {'correlation': 0.7548842625246855, 'negative MMRV': 0.02725119001593361}, 'l2': {'correlation': 0.7495254783613362, 'negative MMRV': 0.02725119001593361}, 'l2_sq': {'correlation': 0.7386109458897673, 'negative MMRV': 0.02725119001593361}, 'max': {'correlation': 0.7474944077200927, 'negative MMRV': 0.0273425331779796}, 'geom': {'correlation': 0.8209172811028643, 'negative MMRV': 0.026296711873917147}, 'huber': {'correlation': 0.7495254897259612, 'negative MMRV': 0.02725119001593361}, 'smooth_prob_pi': {'correlation': 0.8623980228656042, 'negative MMRV': 0.04348259453884881}, 'smooth_prob_5': {'correlation': 0.8623977494296868, 'negative MMRV': 0.04348259453884881}}
        | {}),
    ('diffusion_square',
        {'loss': {'correlation': 0.7499595343046777, 'negative MMRV': 0.1103326544467074, 'adv over final': -0.034730158730158944, 'smooth correlation': 0.9200629324951234, 'smooth negative MMRV': 0.049523809523809505, 'smooth adv over final': -0.05188174603174611}, 'top_10%_losses': {'correlation': 0.5449764787738366, 'negative MMRV': 0.0872369314324508, 'adv over final': 0.013603174603174395, 'smooth correlation': 0.923127847587067, 'smooth negative MMRV': 0.03431292517006798, 'smooth adv over final': -0.0054182539682541275}, 'top_50%_losses': {'correlation': 0.5439589701006539, 'negative MMRV': 0.3269789545145961, 'adv over final': -0.1862857142857144, 'smooth correlation': 0.9208660991368965, 'smooth negative MMRV': 0.20051700680272097, 'smooth adv over final': -0.23087777777777785}, 'top_100_losses': {'correlation': 0.5454065117408387, 'negative MMRV': 0.0853224711473184, 'adv over final': -0.0027936507936510147, 'smooth correlation': 0.9234994803867743, 'smooth negative MMRV': 0.03462585034013601, 'smooth adv over final': -0.020926190476190487}}
        | {'l1': {'correlation': 0.741733062157353, 'negative MMRV': 0.10309572301425662, 'adv over final': -0.034730158730158944, 'smooth correlation': 0.9301665878074227, 'smooth negative MMRV': 0.049523809523809505, 'smooth adv over final': -0.05188174603174611}, 'l2': {'correlation': 0.7042087776234329, 'negative MMRV': 0.16490156143923962, 'adv over final': -0.034730158730158944, 'smooth correlation': 0.9172361398312427, 'smooth negative MMRV': 0.050802721088435365, 'smooth adv over final': -0.05188174603174611}, 'l2_sq': {'correlation': 0.7499595343046774, 'negative MMRV': 0.1103326544467074, 'adv over final': -0.034730158730158944, 'smooth correlation': 0.9200629324951234, 'smooth negative MMRV': 0.049523809523809505, 'smooth adv over final': -0.05188174603174611}, 'max': {'correlation': 0.6029905791584818, 'negative MMRV': 0.23342837746096398, 'adv over final': -0.021222222222222364, 'smooth correlation': 0.829622498769303, 'smooth negative MMRV': 0.1916190476190475, 'smooth adv over final': -0.05188174603174611}, 'geom': {'correlation': 0.8203901248915625, 'negative MMRV': 0.0731704005431093, 'adv over final': 0.020539682539682413, 'smooth correlation': 0.9735322748342737, 'smooth negative MMRV': 0.025755102040816276, 'smooth adv over final': -0.0013674603174603783}, 'smooth_prob_pi': {'correlation': 0.711705098357007, 'negative MMRV': 0.2060149355057705, 'adv over final': -0.021222222222222364, 'smooth correlation': 0.8846444231356531, 'smooth negative MMRV': 0.14904761904761898, 'smooth adv over final': -0.0022277777777777175}, 'smooth_prob_5': {'correlation': 0.758760286342602, 'negative MMRV': 0.18518669382213165, 'adv over final': 0.015396825396825187, 'smooth correlation': 0.8903754167701265, 'smooth negative MMRV': 0.09023129251700676, 'smooth adv over final': -0.009840476190476233}}
        | {'closest min': {'correlation': 0.7142588230434144, 'negative MMRV': 0.14423625254582484, 'adv over final': -0.034730158730158944, 'smooth correlation': 0.9093656526337544, 'smooth negative MMRV': 0.05126530612244897, 'smooth adv over final': -0.05188174603174611}, 'closest mean': {'correlation': 0.7211651686053971, 'negative MMRV': 0.15194840461642903, 'adv over final': -0.034730158730158944, 'smooth correlation': 0.9023473538551336, 'smooth negative MMRV': 0.051523809523809506, 'smooth adv over final': -0.05188174603174611}, 'closest max': {'correlation': 0.7351660915451391, 'negative MMRV': 0.13937542430414118, 'adv over final': -0.034730158730158944, 'smooth correlation': 0.9042760585458967, 'smooth negative MMRV': 0.05131972789115645, 'smooth adv over final': -0.05188174603174611}}),
    ('diffusion_lift',
        {'loss': {'correlation': 0.6343604506752338, 'negative MMRV': 0.06558044806517309, 'adv over final': 0.000841269841269976, 'smooth correlation': 0.7648047938541437, 'smooth negative MMRV': 0.021523809523809504, 'smooth adv over final': -0.0002460317460317718}, 'top_10%_losses': {'correlation': 0.3646016149341049, 'negative MMRV': 0.03235573659198913, 'adv over final': 0.0013968253968253963, 'smooth correlation': 0.5081970141763568, 'smooth negative MMRV': 0.005673469387755107, 'smooth adv over final': -0.0005253968253967622}, 'top_50%_losses': {'correlation': 0.41088402531618096, 'negative MMRV': 0.029640190088255244, 'adv over final': 0.0019682539682540634, 'smooth correlation': 0.5272852531861998, 'smooth negative MMRV': 0.005687074829931986, 'smooth adv over final': -0.0016555555555555213}, 'top_100_losses': {'correlation': 0.377738550601698, 'negative MMRV': 0.03288526816021723, 'adv over final': -0.0036507936507936822, 'smooth correlation': 0.512217837193433, 'smooth negative MMRV': 0.005333333333333344, 'smooth adv over final': -0.0005253968253967622}}
        | {'l1': {'correlation': 0.8483765479768518, 'negative MMRV': 0.03585879158180581, 'adv over final': 0.000841269841269976, 'smooth correlation': 0.8767605198988441, 'smooth negative MMRV': 0.005700680272108824, 'smooth adv over final': -0.0002460317460317718}, 'l2': {'correlation': 0.7440809066164692, 'negative MMRV': 0.0461507128309572, 'adv over final': 0.0025396825396826195, 'smooth correlation': 0.8103163059952219, 'smooth negative MMRV': 0.005836734693877535, 'smooth adv over final': -0.0006999999999999229}, 'l2_sq': {'correlation': 0.6343604506752339, 'negative MMRV': 0.06558044806517309, 'adv over final': 0.000841269841269976, 'smooth correlation': 0.7648047938541438, 'smooth negative MMRV': 0.021523809523809504, 'smooth adv over final': -0.0002460317460317718}, 'max': {'correlation': 0.779117914674366, 'negative MMRV': 0.053088934147997265, 'adv over final': 0.0019682539682540634, 'smooth correlation': 0.8205373084226076, 'smooth negative MMRV': 0.006326530612244889, 'smooth adv over final': -0.0006999999999999229}, 'geom': {'correlation': 0.839112952754, 'negative MMRV': 0.02434487440597419, 'adv over final': -0.007809523809523822, 'smooth correlation': 0.8615438281295162, 'smooth negative MMRV': 0.005632653061224521, 'smooth adv over final': -0.0008936507936507798}, 'smooth_prob_pi': {'correlation': 0.8737672616801642, 'negative MMRV': 0.02921928038017649, 'adv over final': 0.0019682539682540634, 'smooth correlation': 0.8887224487139675, 'smooth negative MMRV': 0.005591836734693893, 'smooth adv over final': -0.0006999999999999229}, 'smooth_prob_5': {'correlation': 0.8458541019553908, 'negative MMRV': 0.02909708078750847, 'adv over final': 0.0019682539682540634, 'smooth correlation': 0.8595097590593809, 'smooth negative MMRV': 0.005496598639455797, 'smooth adv over final': -0.0006999999999999229}}
        | {'closest min': {'correlation': 0.6449481182165614, 'negative MMRV': 0.05209775967413439, 'adv over final': -0.0002857142857141115, 'smooth correlation': 0.7676929525173856, 'smooth negative MMRV': 0.006897959183673453, 'smooth adv over final': -0.0002460317460317718}, 'closest mean': {'correlation': 0.6220144667162867, 'negative MMRV': 0.06685675492192801, 'adv over final': -0.0002857142857141115, 'smooth correlation': 0.7549239969707509, 'smooth negative MMRV': 0.021387755102040794, 'smooth adv over final': -0.0002460317460317718}, 'closest max': {'correlation': 0.5757122041150794, 'negative MMRV': 0.1065037338764426, 'adv over final': 0.000841269841269976, 'smooth correlation': 0.7212331894281032, 'smooth negative MMRV': 0.04873469387755101, 'smooth adv over final': -0.0002460317460317718}}),

    # ('toy_ring_bc_460696',
    #     {'loss': {'correlation': -0.15649350470808956, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.0141654761904762, 'smooth correlation': -0.6001820343686087, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.0045559523809524105}, 'top_10%_losses': {'correlation': -0.2782962560087364, 'negative MMRV': 0.38233877551020407, 'adv over final': -0.06237023809523806, 'smooth correlation': -0.4647822474665364, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'top_100_losses': {'correlation': -0.19821564986803222, 'negative MMRV': 0.38233877551020407, 'adv over final': 0.016177380952380915, 'smooth correlation': -0.39040764313860216, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.04206452380952386}}
    #     | {'l1': {'correlation': -0.4291387628010076, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.606969742483559, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'l2': {'correlation': -0.41059175290799615, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5974315478497662, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'l2_sq': {'correlation': -0.1564935047080897, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.0141654761904762, 'smooth correlation': -0.6001820343686094, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.0045559523809524105}, 'max': {'correlation': -0.3882680963283704, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5835444729049298, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'geom': {'correlation': -0.47635225380856855, 'negative MMRV': 0.3815428571428572, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5927159057443309, 'smooth negative MMRV': 0.3291505154639175, 'smooth adv over final': -0.008288333333333286}, 'huber': {'correlation': -0.2937072821475238, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.06861785714285712, 'smooth correlation': -0.6242110205207418, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.029291666666666605}, 'smooth_prob_pi': {'correlation': -0.4495733370617532, 'negative MMRV': 0.38202857142857144, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5723949664411989, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'smooth_prob_5': {'correlation': -0.4634034308579254, 'negative MMRV': 0.38210612244897957, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5737220770404601, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'per_sample_loss': {'correlation': -0.15649338218738781, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.0141654761904762, 'smooth correlation': -0.600181686096317, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.0045559523809524105}}
    #     | {'closest min': {'correlation': -0.47434349467429127, 'negative MMRV': 0.3829714285714286, 'adv over final': -0.03434166666666666, 'smooth correlation': -0.5810930504741444, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.007420000000000038}, 'closest mean': {'correlation': 0.4877319437294055, 'negative MMRV': 0.24513877551020413, 'adv over final': 0.054208333333333414, 'smooth correlation': 0.5785745843539593, 'smooth negative MMRV': 0.14247422680412375, 'smooth adv over final': 0.16598333333333348}, 'closest max': {'correlation': 0.4914686659474613, 'negative MMRV': 0.23583673469387756, 'adv over final': 0.054208333333333414, 'smooth correlation': 0.5871732337184382, 'smooth negative MMRV': 0.1339257731958763, 'smooth adv over final': 0.16598333333333348}}),
    ('toy_ring_noise_bc_cartesian_496904',
        {'loss': {'correlation': -0.8463806721285497, 'negative MMRV': 0.44166191446028513, 'adv over final': -0.3393488095238094, 'smooth correlation': -0.8704011667553565, 'smooth negative MMRV': 0.43363265306122445, 'smooth adv over final': -0.4296442857142857}, 'top_10%_losses': {'correlation': 0.9001848292842041, 'negative MMRV': 0.07329124236252546, 'adv over final': -0.03787261904761896, 'smooth correlation': 0.9204178493415125, 'smooth negative MMRV': 0.018199999999999997, 'smooth adv over final': -0.0119328571428573}, 'top_50%_losses': {'correlation': 0.9275158558081906, 'negative MMRV': 0.08317311608961304, 'adv over final': -0.0147964285714286, 'smooth correlation': 0.9519226237300074, 'smooth negative MMRV': 0.02062857142857143, 'smooth adv over final': 0.0016933333333333245}, 'top_100_losses': {'correlation': 0.874692497074622, 'negative MMRV': 0.09468839103869653, 'adv over final': -0.058648809523809464, 'smooth correlation': 0.8941691843434834, 'smooth negative MMRV': 0.03374693877551019, 'smooth adv over final': 0.0030204761904761845}}
        | {'l1': {'correlation': -0.07618422376568397, 'negative MMRV': 0.3401265306122449, 'adv over final': -0.26454880952380944, 'smooth correlation': -0.4508582645072698, 'smooth negative MMRV': 0.3004618556701031, 'smooth adv over final': -0.22777666666666668}, 'l2': {'correlation': -0.37677625143607946, 'negative MMRV': 0.3710204081632653, 'adv over final': -0.247520238095238, 'smooth correlation': -0.5955327655183247, 'smooth negative MMRV': 0.3349154639175258, 'smooth adv over final': -0.22210047619047624}, 'l2_sq': {'correlation': -0.860209378411929, 'negative MMRV': 0.44126122448979593, 'adv over final': -0.4002488095238094, 'smooth correlation': -0.9100410902040652, 'smooth negative MMRV': 0.4271711340206185, 'smooth adv over final': -0.4296442857142857}, 'max': {'correlation': -0.6679385899532726, 'negative MMRV': 0.43935102040816326, 'adv over final': -0.247520238095238, 'smooth correlation': -0.7184748697453324, 'smooth negative MMRV': 0.3908288659793814, 'smooth adv over final': -0.24512523809523812}, 'geom': {'correlation': 0.8871886878586867, 'negative MMRV': 0.09607755102040817, 'adv over final': -0.02126785714285706, 'smooth correlation': 0.9266587862894129, 'smooth negative MMRV': 0.02644536082474227, 'smooth adv over final': -0.003082380952380892}, 'huber': {'correlation': -0.8507543963150581, 'negative MMRV': 0.44120816326530615, 'adv over final': -0.4002488095238094, 'smooth correlation': -0.9145708492104188, 'smooth negative MMRV': 0.42689072164948455, 'smooth adv over final': -0.4296442857142857}, 'smooth_prob_pi': {'correlation': 0.9142407526751822, 'negative MMRV': 0.07301632653061225, 'adv over final': -0.010063095238095121, 'smooth correlation': 0.9362810149884825, 'smooth negative MMRV': 0.01857319587628865, 'smooth adv over final': -0.003082380952380892}, 'smooth_prob_5': {'correlation': 0.9037715944780774, 'negative MMRV': 0.07269387755102041, 'adv over final': -0.010063095238095121, 'smooth correlation': 0.927803861190328, 'smooth negative MMRV': 0.018152577319587616, 'smooth adv over final': 0.0008661904761904093}, 'per_sample_loss': {'correlation': -0.8602093814867929, 'negative MMRV': 0.44126122448979593, 'adv over final': -0.4002488095238094, 'smooth correlation': -0.9100410584792296, 'smooth negative MMRV': 0.4271711340206185, 'smooth adv over final': -0.4296442857142857}}
        | {'closest min': {'correlation': 0.9242881979693677, 'negative MMRV': 0.07817142857142857, 'adv over final': -0.022148809523809487, 'smooth correlation': 0.9422999215632304, 'smooth negative MMRV': 0.016746391752577312, 'smooth adv over final': 0.005309999999999926}, 'closest mean': {'correlation': -0.9195220648544334, 'negative MMRV': 0.4415551020408164, 'adv over final': -0.5687916666666666, 'smooth correlation': -0.9367757119474924, 'smooth negative MMRV': 0.42743092783505154, 'smooth adv over final': -0.5154333333333334}, 'closest max': {'correlation': -0.9359480319999373, 'negative MMRV': 0.4415551020408164, 'adv over final': -0.5687916666666666, 'smooth correlation': -0.9543001049987764, 'smooth negative MMRV': 0.42743092783505154, 'smooth adv over final': -0.5154333333333334}}),

    ('BeT_blockpush',
        {'loss': {'correlation': 0.7568329027484922, 'negative MMRV': 0.17598166666666665, 'adv over final': 0.18251261904761917, 'smooth correlation': 0.8252016798857524, 'smooth negative MMRV': 0.08713166666666662, 'smooth adv over final': 0.09320742857142872}, 'top_10%_losses': {'correlation': 0.5641711190535819, 'negative MMRV': 0.17095000000000002, 'adv over final': 0.1820964285714286, 'smooth correlation': 0.7710360552834493, 'smooth negative MMRV': 0.0705316666666667, 'smooth adv over final': 0.12614771428571425}, 'top_100_losses': {'correlation': 0.5703184045388322, 'negative MMRV': 0.19032500000000005, 'adv over final': 0.20450833333333351, 'smooth correlation': 0.7720221977658211, 'smooth negative MMRV': 0.07677500000000005, 'smooth adv over final': 0.12614771428571425}}
        | {'l1': {'correlation': 0.7431000650127274, 'negative MMRV': 0.20380000000000004, 'adv over final': 0.1537035714285716, 'smooth correlation': 0.7859470514957454, 'smooth negative MMRV': 0.12445166666666663, 'smooth adv over final': 0.09874628571428568}, 'l2': {'correlation': 0.7490049069606007, 'negative MMRV': 0.194215, 'adv over final': 0.1537035714285716, 'smooth correlation': 0.7947729392032896, 'smooth negative MMRV': 0.10379499999999997, 'smooth adv over final': 0.09874628571428568}, 'l2_sq': {'correlation': 0.7568329027484921, 'negative MMRV': 0.17598166666666665, 'adv over final': 0.18251261904761917, 'smooth correlation': 0.8252016798857527, 'smooth negative MMRV': 0.08713166666666662, 'smooth adv over final': 0.09320742857142872}, 'max': {'correlation': 0.7476311622903011, 'negative MMRV': 0.20037833333333335, 'adv over final': 0.15231976190476204, 'smooth correlation': 0.7926636344673228, 'smooth negative MMRV': 0.11237166666666663, 'smooth adv over final': 0.09320742857142872}, 'geom': {'correlation': 0.7679463622937752, 'negative MMRV': 0.21269500000000002, 'adv over final': 0.15231976190476204, 'smooth correlation': 0.7947559291097772, 'smooth negative MMRV': 0.14617499999999997, 'smooth adv over final': 0.09874628571428568}, 'huber': {'correlation': 0.7568329027484921, 'negative MMRV': 0.17598166666666665, 'adv over final': 0.18251261904761917, 'smooth correlation': 0.8252016798857527, 'smooth negative MMRV': 0.08713166666666662, 'smooth adv over final': 0.09320742857142872}, 'smooth_prob_pi': {'correlation': 0.7543538596956967, 'negative MMRV': 0.17774, 'adv over final': 0.18251261904761917, 'smooth correlation': 0.8201981495301723, 'smooth negative MMRV': 0.08780833333333331, 'smooth adv over final': 0.09874628571428568}, 'smooth_prob_5': {'correlation': 0.7511816920171757, 'negative MMRV': 0.18167833333333333, 'adv over final': 0.1537035714285716, 'smooth correlation': 0.8137302504180196, 'smooth negative MMRV': 0.09218166666666662, 'smooth adv over final': 0.09874628571428568}}
        | {'closest min': {'correlation': 0.7439985185247607, 'negative MMRV': 0.1827166666666667, 'adv over final': 0.21488547619047638, 'smooth correlation': 0.8487070390402148, 'smooth negative MMRV': 0.07742499999999998, 'smooth adv over final': 0.07632816666666653}, 'closest mean': {'correlation': 0.734145478040479, 'negative MMRV': 0.19573333333333337, 'adv over final': 0.21488547619047638, 'smooth correlation': 0.8256736658919651, 'smooth negative MMRV': 0.08213166666666664, 'smooth adv over final': 0.07632816666666653}, 'closest max': {'correlation': 0.6720104920006691, 'negative MMRV': 0.2958266666666667, 'adv over final': -0.005186904761904643, 'smooth correlation': 0.6850630766459889, 'smooth negative MMRV': 0.09435500000000001, 'smooth adv over final': 0.07632816666666653}}),
    # ('BeT_tool_hang',
    #     {}
    #     | {}
    #     | {}),
    # ('BeT_kitchen',
    #     {}
    #     | {}
    #     | {}),
    # ('BeT_pusht',
    #     {}
    #     | {}
    #     | {}),
]

EVAL_ROWS = ['per_sample_loss', 'l2_sq', 'top_10%_losses', 'top_50%_losses',
             'top_100_losses', 'l1', 'l2', 'l2_sq', 'max',
             'geom', 'smooth_prob_pi', 'smooth_prob_5',
             'closest min', 'closest mean', 'closest max']

EVAL_SCORERS = ['correlation', '', 'smooth correlation', '',
                'negative MMRV', '', 'smooth negative MMRV', '',
                'adv over final', '', 'smooth adv over final', '']


def prepare_eval_table():
    for row in EVAL_ROWS:
        for dataset, metrics in EVAL_RESULTS:
            print(f"{row} \t{dataset} \t", end='')
            for scorer in EVAL_SCORERS:
                print(f"{metrics.get(row, {}).get(scorer, '')}\t", end='')
            print()


if __name__ == '__main__':
    prepare_eval_table()