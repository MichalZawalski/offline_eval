from collections import defaultdict

EVAL_RESULTS = [
    ('diffusion_blockpush',
        {'loss': {'correlation': 0.003062753710753519, 'negative MMRV': 0.18887997284453492, 'adv over final': -0.09264710317460315, 'smooth correlation': -0.06693657644943729, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}, 'top_10%_losses': {'correlation': 0.3823423000514194, 'negative MMRV': 0.07959090291921248, 'adv over final': -0.00971551587301589, 'smooth correlation': 0.6934634002888589, 'smooth negative MMRV': 0.02899346938775511, 'smooth adv over final': 0.016881452380952344}, 'top_100_losses': {'correlation': 0.37383986624708543, 'negative MMRV': 0.07651011541072639, 'adv over final': -0.0012169444444444233, 'smooth correlation': 0.6885765057044472, 'smooth negative MMRV': 0.024357959183673457, 'smooth adv over final': 0.022376150793650795}}
        | {'l1': {'correlation': 0.3728649663628342, 'negative MMRV': 0.1327355057705363, 'adv over final': -0.07457043650793646, 'smooth correlation': 0.51464486440019, 'smooth negative MMRV': 0.1139534693877551, 'smooth adv over final': -0.07256235714285714}, 'l2': {'correlation': 0.3289789764982, 'negative MMRV': 0.13335437881873724, 'adv over final': -0.07457043650793646, 'smooth correlation': 0.4507268043994845, 'smooth negative MMRV': 0.1181395918367347, 'smooth adv over final': -0.07256235714285714}, 'l2_sq': {'correlation': 0.003062753710753619, 'negative MMRV': 0.18887997284453492, 'adv over final': -0.09264710317460315, 'smooth correlation': -0.06693657644943722, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}, 'max': {'correlation': 0.35066775085625096, 'negative MMRV': 0.13250332654446706, 'adv over final': -0.07457043650793646, 'smooth correlation': 0.478872985374902, 'smooth negative MMRV': 0.11077115646258502, 'smooth adv over final': -0.07256235714285714}, 'geom': {'correlation': 0.7032428098179556, 'negative MMRV': 0.08037746096401897, 'adv over final': 0.019384484126984125, 'smooth correlation': 0.8539239523361958, 'smooth negative MMRV': 0.028723673469387753, 'smooth adv over final': 0.02452011904761897}, 'huber': {'correlation': 0.0032462936022387523, 'negative MMRV': 0.1887990495587237, 'adv over final': -0.09264710317460315, 'smooth correlation': -0.06663877603129899, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}, 'smooth_prob_pi': {'correlation': 0.41598444873434764, 'negative MMRV': 0.13132450780719618, 'adv over final': -0.07457043650793646, 'smooth correlation': 0.622484106594129, 'smooth negative MMRV': 0.09710408163265304, 'smooth adv over final': -0.07256235714285714}, 'smooth_prob_5': {'correlation': 0.47443980643098166, 'negative MMRV': 0.12045023761031906, 'adv over final': -0.06728615079365077, 'smooth correlation': 0.6633525154407746, 'smooth negative MMRV': 0.09509619047619046, 'smooth adv over final': -0.07256235714285714}, 'per_sample_loss': {'correlation': -0.43992942358609166, 'negative MMRV': 0.2609600814663951, 'adv over final': -0.18048265873015867, 'smooth correlation': -0.5371412792098083, 'smooth negative MMRV': 0.22349455782312921, 'smooth adv over final': -0.11703733333333333}}
        | {'closest min': {'correlation': -0.19720305580214947, 'negative MMRV': 0.19609395790902917, 'adv over final': -0.09264710317460315, 'smooth correlation': -0.3177191687448944, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}, 'closest mean': {'correlation': -0.04228253539064881, 'negative MMRV': 0.19532518669382212, 'adv over final': -0.09264710317460315, 'smooth correlation': -0.13303331750046274, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}, 'closest max': {'correlation': 0.07808746281683564, 'negative MMRV': 0.18816116768499658, 'adv over final': -0.09264710317460315, 'smooth correlation': 0.04886076936528553, 'smooth negative MMRV': 0.12003020408163265, 'smooth adv over final': -0.09246594444444445}}),
    ('diffusion_tool_hang',
        {'loss': {'correlation': 0.5858481077569022, 'negative MMRV': 0.16213058419243986, 'adv over final': 0.09602777777777771, 'smooth correlation': 0.9066367927509026, 'smooth negative MMRV': 0.062390804597701174, 'smooth adv over final': 0.09819126984126969}, 'top_10%_losses': {'correlation': 0.37849332183411266, 'negative MMRV': 0.16084765177548682, 'adv over final': 0.12071031746031735, 'smooth correlation': 0.8128235116794797, 'smooth negative MMRV': 0.10411494252873564, 'smooth adv over final': 0.09819126984126969}, 'top_100_losses': {'correlation': 0.37999583557180483, 'negative MMRV': 0.17163802978235967, 'adv over final': 0.09664682539682534, 'smooth correlation': 0.8110566237925523, 'smooth negative MMRV': 0.10733333333333335, 'smooth adv over final': 0.04801984126984116}}
        | {'l1': {'correlation': 0.5386750203268622, 'negative MMRV': 0.12412371134020621, 'adv over final': 0.09602777777777771, 'smooth correlation': 0.8903449824495918, 'smooth negative MMRV': 0.05002298850574715, 'smooth adv over final': 0.11430555555555544}, 'l2': {'correlation': 0.534352663849293, 'negative MMRV': 0.2141580756013746, 'adv over final': 0.06439285714285703, 'smooth correlation': 0.8943579055651301, 'smooth negative MMRV': 0.12308045977011496, 'smooth adv over final': 0.04801984126984116}, 'l2_sq': {'correlation': 0.5858481077569024, 'negative MMRV': 0.16213058419243986, 'adv over final': 0.09602777777777771, 'smooth correlation': 0.9066367927509026, 'smooth negative MMRV': 0.062390804597701174, 'smooth adv over final': 0.09819126984126969}, 'max': {'correlation': 0.46055147291689263, 'negative MMRV': 0.47202749140893474, 'adv over final': -0.006718253968253984, 'smooth correlation': 0.8200766463746355, 'smooth negative MMRV': 0.19682758620689653, 'smooth adv over final': -0.021705555555555645}, 'geom': {'correlation': 0.5764711587672297, 'negative MMRV': 0.17956471935853377, 'adv over final': 0.006091269841269842, 'smooth correlation': 0.7711801013844086, 'smooth negative MMRV': 0.11370114942528735, 'smooth adv over final': 0.01730238095238079}, 'huber': {'correlation': 0.5210858948185103, 'negative MMRV': 0.2552119129438717, 'adv over final': 0.06439285714285703, 'smooth correlation': 0.8915853273663806, 'smooth negative MMRV': 0.14774712643678156, 'smooth adv over final': 0.04801984126984116}, 'smooth_prob_pi': {'correlation': 0.6467091849118121, 'negative MMRV': 0.125475372279496, 'adv over final': 0.09664682539682534, 'smooth correlation': 0.8953361161865665, 'smooth negative MMRV': 0.04413793103448277, 'smooth adv over final': 0.04801984126984116}, 'smooth_prob_5': {'correlation': 0.6995497578447901, 'negative MMRV': 0.12437571592210768, 'adv over final': 0.09664682539682534, 'smooth correlation': 0.8901161608960718, 'smooth negative MMRV': 0.0443448275862069, 'smooth adv over final': 0.04801984126984116}, 'per_sample_loss': {'correlation': 0.05789323220500951, 'negative MMRV': 0.5659106529209621, 'adv over final': -0.3069880952380953, 'smooth correlation': 0.053038204566204526, 'smooth negative MMRV': 0.5067126436781609, 'smooth adv over final': -0.13823333333333343}}
        | {'closest min': {'correlation': 0.5236574625052711, 'negative MMRV': 0.28620847651775483, 'adv over final': 0.11594841269841272, 'smooth correlation': 0.8857022158615248, 'smooth negative MMRV': 0.13473563218390805, 'smooth adv over final': 0.11430555555555544}, 'closest mean': {'correlation': 0.5437841010468851, 'negative MMRV': 0.2835967926689576, 'adv over final': 0.12309126984126972, 'smooth correlation': 0.8886216997873635, 'smooth negative MMRV': 0.1453103448275862, 'smooth adv over final': 0.09819126984126969}, 'closest max': {'correlation': 0.5623148410530501, 'negative MMRV': 0.3156701030927834, 'adv over final': 0.06439285714285703, 'smooth correlation': 0.8837234498456171, 'smooth negative MMRV': 0.15956321839080456, 'smooth adv over final': 0.04801984126984116}}),
    ('diffusion_kitchen',
        {'loss': {'correlation': 0.9897603379467317, 'negative MMRV': 0.012045050385299367, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9910580683632328, 'smooth negative MMRV': 0.005476190476190475, 'smooth adv over final': -0.0035689342403627533}, 'top_10%_losses': {'correlation': 0.988019659866067, 'negative MMRV': 0.01068168346176645, 'adv over final': -0.005116213151927451, 'smooth correlation': 0.9894046340366243, 'smooth negative MMRV': 0.003341269841269807, 'smooth adv over final': 2.3809523809537048e-05}, 'top_100_losses': {'correlation': 0.986937828978804, 'negative MMRV': 0.010677731673582299, 'adv over final': -0.00269671201814059, 'smooth correlation': 0.9861179260040104, 'smooth negative MMRV': 0.0033730158730158424, 'smooth adv over final': 0.0}}
        | {'l1': {'correlation': 0.9881532467201893, 'negative MMRV': 0.011756569847856157, 'adv over final': -0.005116213151927451, 'smooth correlation': 0.9899225740115896, 'smooth negative MMRV': 0.004436507936507929, 'smooth adv over final': -0.0008492063492062663}, 'l2': {'correlation': 0.98701460021883, 'negative MMRV': 0.011495751827702032, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9890829706161539, 'smooth negative MMRV': 0.003952380952380918, 'smooth adv over final': -0.0008492063492062663}, 'l2_sq': {'correlation': 0.9897603379467317, 'negative MMRV': 0.012045050385299367, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9910580683632327, 'smooth negative MMRV': 0.005476190476190475, 'smooth adv over final': -0.0035689342403627533}, 'max': {'correlation': 0.9857351619512529, 'negative MMRV': 0.011456233945860499, 'adv over final': -0.005116213151927451, 'smooth correlation': 0.9870441411615607, 'smooth negative MMRV': 0.0037539682539682296, 'smooth adv over final': -0.0007444444444443254}, 'geom': {'correlation': 0.8422258558228233, 'negative MMRV': 0.010673779885398145, 'adv over final': -0.0033588435374150016, 'smooth correlation': 0.9220581834816161, 'smooth negative MMRV': 0.003353174603174571, 'smooth adv over final': 0.0}, 'huber': {'correlation': 0.9912665489150911, 'negative MMRV': 0.011638016202331557, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9916993844580806, 'smooth negative MMRV': 0.004547619047619032, 'smooth adv over final': -0.0008492063492062663}, 'smooth_prob_pi': {'correlation': 0.7928223643610668, 'negative MMRV': 0.011140090891128234, 'adv over final': -0.0030051020408163875, 'smooth correlation': 0.9066813323047657, 'smooth negative MMRV': 0.003551587301587271, 'smooth adv over final': 2.3809523809537048e-05}, 'smooth_prob_5': {'correlation': 0.6716995232014168, 'negative MMRV': 0.010819996048211817, 'adv over final': -0.0030051020408163875, 'smooth correlation': 0.8278762451970711, 'smooth negative MMRV': 0.003384920634920602, 'smooth adv over final': 2.3809523809537048e-05}, 'per_sample_loss': {'correlation': 0.1209682564929367, 'negative MMRV': 0.13435289468484474, 'adv over final': -0.024551587301587352, 'smooth correlation': -0.2977883980755686, 'smooth negative MMRV': 0.14539285714285705, 'smooth adv over final': -0.049695238095238015}}
        | {'closest min': {'correlation': 0.9892650999175299, 'negative MMRV': 0.011649871566884016, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.99203704304457, 'smooth negative MMRV': 0.004948412698412688, 'smooth adv over final': -0.0015934240362811547}, 'closest mean': {'correlation': 0.9897228542873224, 'negative MMRV': 0.011922544951590609, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9915846992995657, 'smooth negative MMRV': 0.005222222222222216, 'smooth adv over final': -0.0015934240362811547}, 'closest max': {'correlation': 0.9903349662821226, 'negative MMRV': 0.0120331950207469, 'adv over final': -0.008764739229024987, 'smooth correlation': 0.9910181021234088, 'smooth negative MMRV': 0.005230158730158731, 'smooth adv over final': -0.0008492063492062663}}),
    ('diffusion_pusht',
        {'loss': {'correlation': 0.7386109458897671, 'negative MMRV': 0.02725119001593361}, 'top_10%_losses': {'correlation': 0.7424581865983239, 'negative MMRV': 0.025134571573983466}, 'top_100_losses': {'correlation': 0.7406734040202352, 'negative MMRV': 0.1089832918234525}}
        | {'l1': {'correlation': 0.7548842625246855, 'negative MMRV': 0.02725119001593361}, 'l2': {'correlation': 0.7495254783613362, 'negative MMRV': 0.02725119001593361}, 'l2_sq': {'correlation': 0.7386109458897673, 'negative MMRV': 0.02725119001593361}, 'max': {'correlation': 0.7474944077200927, 'negative MMRV': 0.0273425331779796}, 'geom': {'correlation': 0.8209172811028643, 'negative MMRV': 0.026296711873917147}, 'huber': {'correlation': 0.7495254897259612, 'negative MMRV': 0.02725119001593361}, 'smooth_prob_pi': {'correlation': 0.8623980228656042, 'negative MMRV': 0.04348259453884881}, 'smooth_prob_5': {'correlation': 0.8623977494296868, 'negative MMRV': 0.04348259453884881}}
        | {}),

    # ('toy_ring_bc_460696',
    #     {'loss': {'correlation': -0.15649350470808956, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.0141654761904762, 'smooth correlation': -0.6001820343686087, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.0045559523809524105}, 'top_10%_losses': {'correlation': -0.2782962560087364, 'negative MMRV': 0.38233877551020407, 'adv over final': -0.06237023809523806, 'smooth correlation': -0.4647822474665364, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'top_100_losses': {'correlation': -0.19821564986803222, 'negative MMRV': 0.38233877551020407, 'adv over final': 0.016177380952380915, 'smooth correlation': -0.39040764313860216, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.04206452380952386}}
    #     | {'l1': {'correlation': -0.4291387628010076, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.606969742483559, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'l2': {'correlation': -0.41059175290799615, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5974315478497662, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'l2_sq': {'correlation': -0.1564935047080897, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.0141654761904762, 'smooth correlation': -0.6001820343686094, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.0045559523809524105}, 'max': {'correlation': -0.3882680963283704, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5835444729049298, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'geom': {'correlation': -0.47635225380856855, 'negative MMRV': 0.3815428571428572, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5927159057443309, 'smooth negative MMRV': 0.3291505154639175, 'smooth adv over final': -0.008288333333333286}, 'huber': {'correlation': -0.2937072821475238, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.06861785714285712, 'smooth correlation': -0.6242110205207418, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.029291666666666605}, 'smooth_prob_pi': {'correlation': -0.4495733370617532, 'negative MMRV': 0.38202857142857144, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5723949664411989, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'smooth_prob_5': {'correlation': -0.4634034308579254, 'negative MMRV': 0.38210612244897957, 'adv over final': -0.016465476190476225, 'smooth correlation': -0.5737220770404601, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': -0.008288333333333286}, 'per_sample_loss': {'correlation': -0.15649338218738781, 'negative MMRV': 0.3822612244897959, 'adv over final': -0.0141654761904762, 'smooth correlation': -0.600181686096317, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.0045559523809524105}}
    #     | {'closest min': {'correlation': -0.47434349467429127, 'negative MMRV': 0.3829714285714286, 'adv over final': -0.03434166666666666, 'smooth correlation': -0.5810930504741444, 'smooth negative MMRV': 0.3296824742268041, 'smooth adv over final': 0.007420000000000038}, 'closest mean': {'correlation': 0.4877319437294055, 'negative MMRV': 0.24513877551020413, 'adv over final': 0.054208333333333414, 'smooth correlation': 0.5785745843539593, 'smooth negative MMRV': 0.14247422680412375, 'smooth adv over final': 0.16598333333333348}, 'closest max': {'correlation': 0.4914686659474613, 'negative MMRV': 0.23583673469387756, 'adv over final': 0.054208333333333414, 'smooth correlation': 0.5871732337184382, 'smooth negative MMRV': 0.1339257731958763, 'smooth adv over final': 0.16598333333333348}}),
    ('toy_ring_noise_bc_cartesian_496904',
        {'loss': {'correlation': -0.860209378411929, 'negative MMRV': 0.44126122448979593, 'adv over final': -0.4002488095238094, 'smooth correlation': -0.9100410902040649, 'smooth negative MMRV': 0.4271711340206185, 'smooth adv over final': -0.4296442857142857}, 'top_10%_losses': {'correlation': 0.8960010453519983, 'negative MMRV': 0.07383673469387755, 'adv over final': -0.02126785714285706, 'smooth correlation': 0.9086091194985086, 'smooth negative MMRV': 0.017393814432989683, 'smooth adv over final': 0.0008661904761904093}, 'top_100_losses': {'correlation': 0.8707796525117649, 'negative MMRV': 0.08938775510204083, 'adv over final': -0.02126785714285706, 'smooth correlation': 0.8792910191189446, 'smooth negative MMRV': 0.031068041237113393, 'smooth adv over final': 0.0030204761904761845}}
        | {'l1': {'correlation': -0.07618422376568397, 'negative MMRV': 0.3401265306122449, 'adv over final': -0.26454880952380944, 'smooth correlation': -0.4508582645072698, 'smooth negative MMRV': 0.3004618556701031, 'smooth adv over final': -0.22777666666666668}, 'l2': {'correlation': -0.37677625143607946, 'negative MMRV': 0.3710204081632653, 'adv over final': -0.247520238095238, 'smooth correlation': -0.5955327655183247, 'smooth negative MMRV': 0.3349154639175258, 'smooth adv over final': -0.22210047619047624}, 'l2_sq': {'correlation': -0.860209378411929, 'negative MMRV': 0.44126122448979593, 'adv over final': -0.4002488095238094, 'smooth correlation': -0.9100410902040652, 'smooth negative MMRV': 0.4271711340206185, 'smooth adv over final': -0.4296442857142857}, 'max': {'correlation': -0.6679385899532726, 'negative MMRV': 0.43935102040816326, 'adv over final': -0.247520238095238, 'smooth correlation': -0.7184748697453324, 'smooth negative MMRV': 0.3908288659793814, 'smooth adv over final': -0.24512523809523812}, 'geom': {'correlation': 0.8871886878586867, 'negative MMRV': 0.09607755102040817, 'adv over final': -0.02126785714285706, 'smooth correlation': 0.9266587862894129, 'smooth negative MMRV': 0.02644536082474227, 'smooth adv over final': -0.003082380952380892}, 'huber': {'correlation': -0.8507543963150581, 'negative MMRV': 0.44120816326530615, 'adv over final': -0.4002488095238094, 'smooth correlation': -0.9145708492104188, 'smooth negative MMRV': 0.42689072164948455, 'smooth adv over final': -0.4296442857142857}, 'smooth_prob_pi': {'correlation': 0.9142407526751822, 'negative MMRV': 0.07301632653061225, 'adv over final': -0.010063095238095121, 'smooth correlation': 0.9362810149884825, 'smooth negative MMRV': 0.01857319587628865, 'smooth adv over final': -0.003082380952380892}, 'smooth_prob_5': {'correlation': 0.9037715944780774, 'negative MMRV': 0.07269387755102041, 'adv over final': -0.010063095238095121, 'smooth correlation': 0.927803861190328, 'smooth negative MMRV': 0.018152577319587616, 'smooth adv over final': 0.0008661904761904093}, 'per_sample_loss': {'correlation': -0.8602093814867929, 'negative MMRV': 0.44126122448979593, 'adv over final': -0.4002488095238094, 'smooth correlation': -0.9100410584792296, 'smooth negative MMRV': 0.4271711340206185, 'smooth adv over final': -0.4296442857142857}}
        | {'closest min': {'correlation': 0.9242881979693677, 'negative MMRV': 0.07817142857142857, 'adv over final': -0.022148809523809487, 'smooth correlation': 0.9422999215632304, 'smooth negative MMRV': 0.016746391752577312, 'smooth adv over final': 0.005309999999999926}, 'closest mean': {'correlation': -0.9195220648544334, 'negative MMRV': 0.4415551020408164, 'adv over final': -0.5687916666666666, 'smooth correlation': -0.9367757119474924, 'smooth negative MMRV': 0.42743092783505154, 'smooth adv over final': -0.5154333333333334}, 'closest max': {'correlation': -0.9359480319999373, 'negative MMRV': 0.4415551020408164, 'adv over final': -0.5687916666666666, 'smooth correlation': -0.9543001049987764, 'smooth negative MMRV': 0.42743092783505154, 'smooth adv over final': -0.5154333333333334}}),

    ('BeT_blockpush',
        {'loss': {'correlation': 0.7568329027484922, 'negative MMRV': 0.17598166666666665, 'adv over final': 0.18251261904761917, 'smooth correlation': 0.8252016798857524, 'smooth negative MMRV': 0.08713166666666662, 'smooth adv over final': 0.09320742857142872}, 'top_10%_losses': {'correlation': 0.5641711190535819, 'negative MMRV': 0.17095000000000002, 'adv over final': 0.1820964285714286, 'smooth correlation': 0.7710360552834493, 'smooth negative MMRV': 0.0705316666666667, 'smooth adv over final': 0.12614771428571425}, 'top_100_losses': {'correlation': 0.5703184045388322, 'negative MMRV': 0.19032500000000005, 'adv over final': 0.20450833333333351, 'smooth correlation': 0.7720221977658211, 'smooth negative MMRV': 0.07677500000000005, 'smooth adv over final': 0.12614771428571425}}
        | {'l1': {'correlation': 0.7431000650127274, 'negative MMRV': 0.20380000000000004, 'adv over final': 0.1537035714285716, 'smooth correlation': 0.7859470514957454, 'smooth negative MMRV': 0.12445166666666663, 'smooth adv over final': 0.09874628571428568}, 'l2': {'correlation': 0.7490049069606007, 'negative MMRV': 0.194215, 'adv over final': 0.1537035714285716, 'smooth correlation': 0.7947729392032896, 'smooth negative MMRV': 0.10379499999999997, 'smooth adv over final': 0.09874628571428568}, 'l2_sq': {'correlation': 0.7568329027484921, 'negative MMRV': 0.17598166666666665, 'adv over final': 0.18251261904761917, 'smooth correlation': 0.8252016798857527, 'smooth negative MMRV': 0.08713166666666662, 'smooth adv over final': 0.09320742857142872}, 'max': {'correlation': 0.7476311622903011, 'negative MMRV': 0.20037833333333335, 'adv over final': 0.15231976190476204, 'smooth correlation': 0.7926636344673228, 'smooth negative MMRV': 0.11237166666666663, 'smooth adv over final': 0.09320742857142872}, 'geom': {'correlation': 0.7679463622937752, 'negative MMRV': 0.21269500000000002, 'adv over final': 0.15231976190476204, 'smooth correlation': 0.7947559291097772, 'smooth negative MMRV': 0.14617499999999997, 'smooth adv over final': 0.09874628571428568}, 'huber': {'correlation': 0.7568329027484921, 'negative MMRV': 0.17598166666666665, 'adv over final': 0.18251261904761917, 'smooth correlation': 0.8252016798857527, 'smooth negative MMRV': 0.08713166666666662, 'smooth adv over final': 0.09320742857142872}, 'smooth_prob_pi': {'correlation': 0.7543538596956967, 'negative MMRV': 0.17774, 'adv over final': 0.18251261904761917, 'smooth correlation': 0.8201981495301723, 'smooth negative MMRV': 0.08780833333333331, 'smooth adv over final': 0.09874628571428568}, 'smooth_prob_5': {'correlation': 0.7511816920171757, 'negative MMRV': 0.18167833333333333, 'adv over final': 0.1537035714285716, 'smooth correlation': 0.8137302504180196, 'smooth negative MMRV': 0.09218166666666662, 'smooth adv over final': 0.09874628571428568}}
        | {'closest min': {'correlation': 0.7439985185247607, 'negative MMRV': 0.1827166666666667, 'adv over final': 0.21488547619047638, 'smooth correlation': 0.8487070390402148, 'smooth negative MMRV': 0.07742499999999998, 'smooth adv over final': 0.07632816666666653}, 'closest mean': {'correlation': 0.734145478040479, 'negative MMRV': 0.19573333333333337, 'adv over final': 0.21488547619047638, 'smooth correlation': 0.8256736658919651, 'smooth negative MMRV': 0.08213166666666664, 'smooth adv over final': 0.07632816666666653}, 'closest max': {'correlation': 0.6720104920006691, 'negative MMRV': 0.2958266666666667, 'adv over final': -0.005186904761904643, 'smooth correlation': 0.6850630766459889, 'smooth negative MMRV': 0.09435500000000001, 'smooth adv over final': 0.07632816666666653}}),
    # ('BeT_tool_hang',
    #     {}
    #     | {}
    #     | {}),
    # ('BeT_kitchen',
    #     {}
    #     | {}
    #     | {}),
    # ('BeT_pusht',
    #     {}
    #     | {}
    #     | {}),
]

EVAL_ROWS = ['per_sample_loss', 'l2_sq', 'top_10%_losses',
             'top_100_losses', 'l1', 'l2', 'l2_sq', 'max',
             'geom', 'huber', 'smooth_prob_pi', 'smooth_prob_5',
             'closest min', 'closest mean', 'closest max']

EVAL_SCORERS = ['correlation', '', 'smooth correlation', '',
                'negative MMRV', '', 'smooth negative MMRV', '',
                'adv over final', '', 'smooth adv over final', '']


def prepare_eval_table():
    for row in EVAL_ROWS:
        for dataset, metrics in EVAL_RESULTS:
            print(f"{row} \t{dataset} \t", end='')
            for scorer in EVAL_SCORERS:
                print(f"{metrics.get(row, {}).get(scorer, '')}\t", end='')
            print()


if __name__ == '__main__':
    prepare_eval_table()